<krossr-popup-content [isReady]="isReady">
    <div class="listLevels" [formGroup]="formGroup" *ngIf="isReady">
        <h2>
            Levels
            <span class="filterIcon" (click)="toggleShowFilter()">
                <i class="fa fa-filter" [ngClass]="{'active': showFilter}"></i>
            </span>
            <span class="createIcon" *ngIf="Authentication.user" uiSref="create-level">
                <i class="fa fa-plus"></i>
            </span>
        </h2>

        <div class="form-group">
            <div class="form-group" [hidden]="!showFilter">
                <krossr-level-select-filter (refilter)="refilter($event)"></krossr-level-select-filter>
            </div>
        </div>

        <div class="list-group" *ngIf="levels">
            <krossr-level-select-tile [level]="level" 
                                      (refilter)="extendFilter($event)"
                                      *ngFor="let level of levels"
                                      uiSref="level"
                                      [uiParams]="{ levelId: level.id }" 
                                      [uiOptions]="{ reload: true }">
            </krossr-level-select-tile>
        </div>

        <div class="alert alert-warning" *ngIf="!levels || !levels.length">
            No Levels yet!
        </div>

        <krossr-pagination *ngIf="levels && levels.length > 0" (paginate)="find($event)" [currentPage]="currentPage"
            [totalPages]="totalPages"></krossr-pagination>
    </div>
</krossr-popup-content>